{"ast":null,"code":"import _objectSpread from\"/Users/claudia.crisostomo/Documents/elvisp/lokalise-challenge/romaer-app-2/roamer-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_PROJECT,ADD_LANGUAGES,REMOVE_TRANSLATION,EXPAND_PROJECTS,COLLAPSE_PROJECTS}from\"../types\";import{appInitialState}from'../../redux/initialState';import _ from'lodash';export var appReducer=function appReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:appInitialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_PROJECT:{var projects=state.projects.slice();var id=state.projects.length+1;var project=_objectSpread(_objectSpread({},action.project),{},{id:id,name:\"\".concat(action.project.name,\" \").concat(id)});projects.push(project);return _objectSpread(_objectSpread({},state),{},{projects:projects});}case ADD_LANGUAGES:{var _projects=_.cloneDeep(state.projects);var index=_projects.findIndex(function(project){return project.id===action.projectId;});_projects[index].translationSections=action.translationsSections;return _objectSpread(_objectSpread({},state),{},{projects:_projects});}case REMOVE_TRANSLATION:{var _projects2=_.cloneDeep(state.projects);var _index=_projects2.findIndex(function(project){return project.id===action.projectId;});_projects2[_index].translationSections=_.remove(_projects2[_index].translationSections,function(translation){return translation.id!==action.translationId;});return _objectSpread(_objectSpread({},state),{},{projects:_projects2});}case EXPAND_PROJECTS:return _objectSpread(_objectSpread({},state),{},{expand:true});case COLLAPSE_PROJECTS:return _objectSpread(_objectSpread({},state),{},{expand:false});default:return _objectSpread({},state);}};","map":{"version":3,"sources":["/Users/claudia.crisostomo/Documents/elvisp/lokalise-challenge/romaer-app-2/roamer-app/src/redux/app/reducer.ts"],"names":["ADD_PROJECT","ADD_LANGUAGES","REMOVE_TRANSLATION","EXPAND_PROJECTS","COLLAPSE_PROJECTS","appInitialState","_","appReducer","state","action","type","projects","slice","id","length","project","name","push","cloneDeep","index","findIndex","projectId","translationSections","translationsSections","remove","translation","translationId","expand"],"mappings":"2MACA,OAASA,WAAT,CAAsBC,aAAtB,CAAqCC,kBAArC,CAAyDC,eAAzD,CAA0EC,iBAA1E,KAAmG,UAAnG,CAEA,OAASC,eAAT,KAAgC,0BAAhC,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CAGA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAGX,IAFXC,CAAAA,KAEW,2DAFOH,eAEP,IADXI,CAAAA,MACW,2CAEX,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKV,CAAAA,WAAL,CAAkB,CACd,GAAMW,CAAAA,QAAQ,CAAGH,KAAK,CAACG,QAAN,CAAeC,KAAf,EAAjB,CACA,GAAMC,CAAAA,EAAE,CAAGL,KAAK,CAACG,QAAN,CAAeG,MAAf,CAAwB,CAAnC,CACA,GAAMC,CAAAA,OAAO,gCACNN,MAAM,CAACM,OADD,MAETF,EAAE,CAAFA,EAFS,CAGTG,IAAI,WAAKP,MAAM,CAACM,OAAP,CAAeC,IAApB,aAA4BH,EAA5B,CAHK,EAAb,CAKAF,QAAQ,CAACM,IAAT,CAAcF,OAAd,EACA,sCACOP,KADP,MAEIG,QAAQ,CAARA,QAFJ,GAIH,CACD,IAAKV,CAAAA,aAAL,CAAoB,CAChB,GAAMU,CAAAA,SAAQ,CAAGL,CAAC,CAACY,SAAF,CAAYV,KAAK,CAACG,QAAlB,CAAjB,CACA,GAAMQ,CAAAA,KAAK,CAAGR,SAAQ,CAACS,SAAT,CAAmB,SAAAL,OAAO,QAAIA,CAAAA,OAAO,CAACF,EAAR,GAAeJ,MAAM,CAACY,SAA1B,EAA1B,CAAd,CACAV,SAAQ,CAACQ,KAAD,CAAR,CAAgBG,mBAAhB,CAAsCb,MAAM,CAACc,oBAA7C,CACA,sCACOf,KADP,MAEIG,QAAQ,CAARA,SAFJ,GAIH,CACD,IAAKT,CAAAA,kBAAL,CAAyB,CACrB,GAAMS,CAAAA,UAAQ,CAAGL,CAAC,CAACY,SAAF,CAAYV,KAAK,CAACG,QAAlB,CAAjB,CACA,GAAMQ,CAAAA,MAAK,CAAGR,UAAQ,CAACS,SAAT,CAAmB,SAAAL,OAAO,QAAIA,CAAAA,OAAO,CAACF,EAAR,GAAeJ,MAAM,CAACY,SAA1B,EAA1B,CAAd,CACAV,UAAQ,CAACQ,MAAD,CAAR,CAAgBG,mBAAhB,CAAsChB,CAAC,CAACkB,MAAF,CAASb,UAAQ,CAACQ,MAAD,CAAR,CAAgBG,mBAAzB,CAA8C,SAACG,WAAD,QAAiBA,CAAAA,WAAW,CAACZ,EAAZ,GAAmBJ,MAAM,CAACiB,aAA3C,EAA9C,CAAtC,CACA,sCACOlB,KADP,MAEIG,QAAQ,CAARA,UAFJ,GAIH,CACD,IAAKR,CAAAA,eAAL,CACI,sCACOK,KADP,MAEImB,MAAM,CAAE,IAFZ,GAIJ,IAAKvB,CAAAA,iBAAL,CACI,sCACOI,KADP,MAEImB,MAAM,CAAE,KAFZ,GAIJ,QACI,wBACOnB,KADP,EA5CR,CAgDH,CArDM","sourcesContent":["import { AppActions } from './actions';\r\nimport { ADD_PROJECT, ADD_LANGUAGES, REMOVE_TRANSLATION, EXPAND_PROJECTS, COLLAPSE_PROJECTS } from \"../types\";\r\nimport { AppState } from '../appState';\r\nimport { appInitialState } from '../../redux/initialState';\r\nimport _ from 'lodash';\r\n\r\n\r\nexport const appReducer = (\r\n    state: AppState = appInitialState,\r\n    action: AppActions\r\n): AppState => {\r\n\r\n    switch (action.type) {\r\n        case ADD_PROJECT: {\r\n            const projects = state.projects.slice();\r\n            const id = state.projects.length + 1;\r\n            const project = {\r\n                ...action.project,\r\n                id,\r\n                name: `${action.project.name} ${id}`,\r\n            };\r\n            projects.push(project);\r\n            return {\r\n                ...state,\r\n                projects,\r\n            };\r\n        }\r\n        case ADD_LANGUAGES: {\r\n            const projects = _.cloneDeep(state.projects);\r\n            const index = projects.findIndex(project => project.id === action.projectId);\r\n            projects[index].translationSections = action.translationsSections;\r\n            return {\r\n                ...state,\r\n                projects,\r\n            };\r\n        }\r\n        case REMOVE_TRANSLATION: {\r\n            const projects = _.cloneDeep(state.projects);\r\n            const index = projects.findIndex(project => project.id === action.projectId);\r\n            projects[index].translationSections = _.remove(projects[index].translationSections, (translation) => translation.id !== action.translationId);\r\n            return {\r\n                ...state,\r\n                projects,\r\n            };\r\n        }\r\n        case EXPAND_PROJECTS:\r\n            return {\r\n                ...state,\r\n                expand: true,\r\n            };\r\n        case COLLAPSE_PROJECTS:\r\n            return {\r\n                ...state,\r\n                expand: false,\r\n            };\r\n        default:\r\n            return {\r\n                ...state,\r\n            };\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}