{"ast":null,"code":"import { ADD_PROJECT, ADD_LANGUAGES, REMOVE_TRANSLATION, EXPAND_PROJECTS, COLLAPSE_PROJECTS } from \"../types\";\nimport { appInitialState } from '../../redux/initialState';\nexport const appReducer = (state = appInitialState, action) => {\n  switch (action.type) {\n    case ADD_PROJECT:\n      {\n        const projects = state.projects.slice();\n        const id = state.projects.length + 1;\n        const project = { ...action.project,\n          id,\n          name: `${action.project.name} ${id}`\n        };\n        projects.push(project);\n        return { ...state,\n          projects\n        };\n      }\n\n    case ADD_LANGUAGES:\n      {\n        const projects = state.projects.slice();\n        const index = projects.findIndex(project => project.id === action.projectId);\n        projects[index].translationSections = action.translationsSections;\n        return { ...state,\n          projects\n        };\n      }\n\n    case REMOVE_TRANSLATION:\n      {\n        const projects = state.projects.slice();\n        const index = projects.findIndex(project => project.id === action.projectId);\n        const translationSections = projects[index].translationSections.slice();\n        projects[index].translationSections = translationSections.filter(t => t.id !== action.translationId);\n        console.log({\n          stateProjects: state.projects\n        });\n        console.log({\n          projects\n        });\n        return { ...state,\n          projects\n        };\n      }\n\n    case EXPAND_PROJECTS:\n      return { ...state,\n        expand: true\n      };\n\n    case COLLAPSE_PROJECTS:\n      return { ...state,\n        expand: false\n      };\n\n    default:\n      return { ...state\n      };\n  }\n};","map":{"version":3,"sources":["/Users/claudia.crisostomo/Documents/elvisp/lokalise-challenge/romaer-app-2/roamer-app/src/redux/app/reducer.ts"],"names":["ADD_PROJECT","ADD_LANGUAGES","REMOVE_TRANSLATION","EXPAND_PROJECTS","COLLAPSE_PROJECTS","appInitialState","appReducer","state","action","type","projects","slice","id","length","project","name","push","index","findIndex","projectId","translationSections","translationsSections","filter","t","translationId","console","log","stateProjects","expand"],"mappings":"AACA,SAASA,WAAT,EAAsBC,aAAtB,EAAqCC,kBAArC,EAAyDC,eAAzD,EAA0EC,iBAA1E,QAAmG,UAAnG;AAEA,SAASC,eAAT,QAAgC,0BAAhC;AAGA,OAAO,MAAMC,UAAU,GAAG,CACtBC,KAAe,GAAGF,eADI,EAEtBG,MAFsB,KAGX;AAEX,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKT,WAAL;AAAkB;AACd,cAAMU,QAAQ,GAAGH,KAAK,CAACG,QAAN,CAAeC,KAAf,EAAjB;AACA,cAAMC,EAAE,GAAGL,KAAK,CAACG,QAAN,CAAeG,MAAf,GAAwB,CAAnC;AACA,cAAMC,OAAO,GAAG,EACZ,GAAGN,MAAM,CAACM,OADE;AAEZF,UAAAA,EAFY;AAGZG,UAAAA,IAAI,EAAG,GAAEP,MAAM,CAACM,OAAP,CAAeC,IAAK,IAAGH,EAAG;AAHvB,SAAhB;AAKAF,QAAAA,QAAQ,CAACM,IAAT,CAAcF,OAAd;AACA,eAAO,EACH,GAAGP,KADA;AAEHG,UAAAA;AAFG,SAAP;AAIH;;AACD,SAAKT,aAAL;AAAoB;AAChB,cAAMS,QAAQ,GAAGH,KAAK,CAACG,QAAN,CAAeC,KAAf,EAAjB;AACA,cAAMM,KAAK,GAAGP,QAAQ,CAACQ,SAAT,CAAmBJ,OAAO,IAAIA,OAAO,CAACF,EAAR,KAAeJ,MAAM,CAACW,SAApD,CAAd;AACAT,QAAAA,QAAQ,CAACO,KAAD,CAAR,CAAgBG,mBAAhB,GAAsCZ,MAAM,CAACa,oBAA7C;AACA,eAAO,EACH,GAAGd,KADA;AAEHG,UAAAA;AAFG,SAAP;AAIH;;AACD,SAAKR,kBAAL;AAAyB;AACrB,cAAMQ,QAAQ,GAAGH,KAAK,CAACG,QAAN,CAAeC,KAAf,EAAjB;AACA,cAAMM,KAAK,GAAGP,QAAQ,CAACQ,SAAT,CAAmBJ,OAAO,IAAIA,OAAO,CAACF,EAAR,KAAeJ,MAAM,CAACW,SAApD,CAAd;AACA,cAAMC,mBAAmB,GAAGV,QAAQ,CAACO,KAAD,CAAR,CAAgBG,mBAAhB,CAAoCT,KAApC,EAA5B;AACAD,QAAAA,QAAQ,CAACO,KAAD,CAAR,CAAgBG,mBAAhB,GAAsCA,mBAAmB,CAACE,MAApB,CAA2BC,CAAC,IAAIA,CAAC,CAACX,EAAF,KAASJ,MAAM,CAACgB,aAAhD,CAAtC;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY;AAAEC,UAAAA,aAAa,EAAEpB,KAAK,CAACG;AAAvB,SAAZ;AACAe,QAAAA,OAAO,CAACC,GAAR,CAAY;AAAEhB,UAAAA;AAAF,SAAZ;AACA,eAAO,EACH,GAAGH,KADA;AAEHG,UAAAA;AAFG,SAAP;AAIH;;AACD,SAAKP,eAAL;AACI,aAAO,EACH,GAAGI,KADA;AAEHqB,QAAAA,MAAM,EAAE;AAFL,OAAP;;AAIJ,SAAKxB,iBAAL;AACI,aAAO,EACH,GAAGG,KADA;AAEHqB,QAAAA,MAAM,EAAE;AAFL,OAAP;;AAIJ;AACI,aAAO,EACH,GAAGrB;AADA,OAAP;AA/CR;AAmDH,CAxDM","sourcesContent":["import { AppActions } from './actions';\r\nimport { ADD_PROJECT, ADD_LANGUAGES, REMOVE_TRANSLATION, EXPAND_PROJECTS, COLLAPSE_PROJECTS } from \"../types\";\r\nimport { AppState } from '../appState';\r\nimport { appInitialState } from '../../redux/initialState';\r\nimport { isConstructorDeclaration } from 'typescript';\r\n\r\nexport const appReducer = (\r\n    state: AppState = appInitialState,\r\n    action: AppActions\r\n): AppState => {\r\n\r\n    switch (action.type) {\r\n        case ADD_PROJECT: {\r\n            const projects = state.projects.slice();\r\n            const id = state.projects.length + 1;\r\n            const project = {\r\n                ...action.project,\r\n                id,\r\n                name: `${action.project.name} ${id}`,\r\n            };\r\n            projects.push(project);\r\n            return {\r\n                ...state,\r\n                projects,\r\n            };\r\n        }\r\n        case ADD_LANGUAGES: {\r\n            const projects = state.projects.slice();\r\n            const index = projects.findIndex(project => project.id === action.projectId);\r\n            projects[index].translationSections = action.translationsSections;\r\n            return {\r\n                ...state,\r\n                projects,\r\n            };\r\n        }\r\n        case REMOVE_TRANSLATION: {\r\n            const projects = state.projects.slice();\r\n            const index = projects.findIndex(project => project.id === action.projectId);\r\n            const translationSections = projects[index].translationSections.slice();\r\n            projects[index].translationSections = translationSections.filter(t => t.id !== action.translationId);\r\n            console.log({ stateProjects: state.projects });\r\n            console.log({ projects });\r\n            return {\r\n                ...state,\r\n                projects,\r\n            };\r\n        }\r\n        case EXPAND_PROJECTS:\r\n            return {\r\n                ...state,\r\n                expand: true,\r\n            };\r\n        case COLLAPSE_PROJECTS:\r\n            return {\r\n                ...state,\r\n                expand: false,\r\n            };\r\n        default:\r\n            return {\r\n                ...state,\r\n            };\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}